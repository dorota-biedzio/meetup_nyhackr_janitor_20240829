<!DOCTYPE html>
<html lang="en"><head>
<script src="janitor_files/libs/clipboard/clipboard.min.js"></script>
<script src="janitor_files/libs/quarto-html/tabby.min.js"></script>
<script src="janitor_files/libs/quarto-html/popper.min.js"></script>
<script src="janitor_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="janitor_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="janitor_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="janitor_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="janitor_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.555">

  <meta name="author" content="Dorota Rizik">
  <title>Easy Cleaning with the janitor Package</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="janitor_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="janitor_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="janitor_files/libs/revealjs/dist/theme/quarto.css">
  <link href="janitor_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="janitor_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="janitor_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="janitor_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="janitor_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="janitor_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Easy Cleaning with the <code>janitor</code> Package</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dorota Rizik 
</div>
</div>
</div>

  <p class="date">August 2024</p>
</section>
<section>
<section id="about-me" class="title-slide slide level1 center">
<h1>About me</h1>

</section>
<section id="my-background" class="slide level2">
<h2>My background</h2>
<div>
<ul>
<li class="fragment"><p>I have experience with data cleaning, analysis, and visualization in the higher education space.</p></li>
<li class="fragment"><p>I have a MS in Applied Statistics, proficiency in R, SAS, and SQL.</p></li>
<li class="fragment"><p>I have worked in academia, non-profits, and the private sector. I currently work at a consulting firm primarily focusing on developing helpful tools for service members going to college.</p></li>
</ul>
</div>
</section>
<section id="my-dogs" class="slide level2">
<h2>My dogs</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Beckett.jpg"></p>
<figcaption>Beckett</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Charlotte.jpg"></p>
<figcaption>Charlotte</figcaption>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="about-this-talk" class="title-slide slide level1 center">
<h1>About this talk</h1>

</section>
<section id="this-talk-will-be" class="slide level2">
<h2>This talk will be</h2>
<div>
<ul>
<li class="fragment"><p>a high-level overview of some helpful functions</p></li>
<li class="fragment"><p>a discussion of common data cleaning issues</p></li>
<li class="fragment"><p>a demonstration with real data</p></li>
</ul>
</div>
</section>
<section id="this-talk-will-not-be" class="slide level2">
<h2>This talk will not be</h2>
<div>
<ul>
<li class="fragment"><p>an in-depth tutorial on R programming or the tidyverse</p></li>
<li class="fragment"><p>a comprehensive review of every <code>janitor</code> function</p></li>
</ul>
</div>
</section>
<section id="this-talk-will-use-data-from" class="slide level2 smaller">
<h2>This talk will use data from</h2>
<ul>
<li><p>Integrated Postsecondary Education Data System (IPEDS)</p></li>
<li><p>College Scorecard</p></li>
</ul>
<p>College Scorecard uses IPEDS data to create institutional profiles, which include information on net price, graduation rates, and student body diversity.</p>
<p>But, College Scorecard also has data from other sources, which include data on student loan repayment and earnings.</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p>IPEDS</p>
<ul>
<li><p><a href="https://nces.ed.gov/ipeds/use-the-data" class="uri">https://nces.ed.gov/ipeds/use-the-data</a></p></li>
<li><p>Compare Institutions &gt; By Groups &gt; “EZ Groups” &gt; “All institutions” &gt; Select Variables</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p>College Scorecard</p>
<ul>
<li><p><a href="https://collegescorecard.ed.gov/data" class="uri">https://collegescorecard.ed.gov/data</a></p></li>
<li><p>Select “Most Recent Institution-Level Data”</p></li>
</ul>
</div>
</div>
</section></section>
<section>
<section id="without-further-ado" class="title-slide slide level1 center">
<h1>Without further ado…</h1>

</section>
<section id="agenda" class="slide level2">
<h2>Agenda</h2>
<ol type="1">
<li><p>About the package</p></li>
<li><p>Common data cleaning issues with demos</p>
<ul>
<li><p>Column names and types</p></li>
<li><p>Date formats</p></li>
<li><p>Empty rows and columns</p></li>
<li><p>Missing values</p></li>
<li><p>Duplicates</p></li>
<li><p>Frequency tables</p></li>
<li><p>Formatting tables</p></li>
</ul></li>
</ol>
</section></section>
<section>
<section id="about-the-janitor-package" class="title-slide slide level1 center">
<h1>About the <code>janitor</code> package</h1>

</section>
<section id="key-features" class="slide level2">
<h2>Key features</h2>
<div>
<ul>
<li class="fragment">cleans column names so they have consistent format</li>
<li class="fragment">makes it easy to explore duplicate records</li>
<li class="fragment">provides quick frequency tables</li>
<li class="fragment">formats tabulation results</li>
<li class="fragment">works well with the “tidyverse” and the pipe function %&gt;%</li>
</ul>
</div>
<div class="fragment fade-left">
<p>See package <a href="https://cran.r-project.org/web/packages/janitor/janitor.pdf">documentation</a> and <a href="https://cran.r-project.org/web/packages/janitor/vignettes/janitor.html">vignette</a> for more information.</p>
</div>
</section></section>
<section>
<section id="common-data-cleaning-issues" class="title-slide slide level1 center">
<h1>Common data cleaning issues</h1>

</section>
<section id="column-name-issues" class="slide level2">
<h2>Column name issues</h2>
<div>
<ul>
<li class="fragment"><p>Different capitalization across data sources</p></li>
<li class="fragment"><p>Inconsistent delimiters between words</p></li>
<li class="fragment"><p>The use of ‘%’ or ‘#’ instead of explicit words</p></li>
</ul>
</div>
</section>
<section id="the-solution-clean_names" class="slide level2">
<h2>The solution: <code>clean_names()</code></h2>
<div class="fragment" data-fragment-index="1">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="co"># create fake data frame</span></span>
<span id="cb1-2"><a href=""></a>df1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">9</span>))</span>
<span id="cb1-3"><a href=""></a><span class="fu">names</span>(df1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"firstID"</span>, </span>
<span id="cb1-4"><a href=""></a>                <span class="st">"secondid"</span>,</span>
<span id="cb1-5"><a href=""></a>                <span class="st">"thirdId"</span>,</span>
<span id="cb1-6"><a href=""></a>                <span class="st">"ábc@!*"</span>, </span>
<span id="cb1-7"><a href=""></a>                <span class="st">"% successful (2009)"</span>,</span>
<span id="cb1-8"><a href=""></a>                <span class="st">"REPEAT VALUE"</span>, </span>
<span id="cb1-9"><a href=""></a>                <span class="st">"REPEAT VALUE"</span>, </span>
<span id="cb1-10"><a href=""></a>                <span class="st">""</span>, </span>
<span id="cb1-11"><a href=""></a>                <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br></p>
<div class="fragment" data-fragment-index="2">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="co"># clean names of fake data frame</span></span>
<span id="cb2-2"><a href=""></a>df2 <span class="ot">&lt;-</span> df1 <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="the-solution-clean_names-1" class="slide level2">
<h2>The solution: <code>clean_names()</code></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">glimpse</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 9
$ firstID               &lt;lgl&gt; NA
$ secondid              &lt;lgl&gt; NA
$ thirdId               &lt;lgl&gt; NA
$ `ábc@!*`              &lt;lgl&gt; NA
$ `% successful (2009)` &lt;lgl&gt; NA
$ `REPEAT VALUE`        &lt;lgl&gt; NA
$ `REPEAT VALUE`        &lt;lgl&gt; NA
$ ``                    &lt;lgl&gt; NA
$ ``                    &lt;lgl&gt; NA</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="fu">glimpse</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 9
$ first_id                &lt;lgl&gt; NA
$ secondid                &lt;lgl&gt; NA
$ third_id                &lt;lgl&gt; NA
$ abc                     &lt;lgl&gt; NA
$ percent_successful_2009 &lt;lgl&gt; NA
$ repeat_value            &lt;lgl&gt; NA
$ repeat_value_2          &lt;lgl&gt; NA
$ x                       &lt;lgl&gt; NA
$ x_2                     &lt;lgl&gt; NA</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="more-about-clean_names" class="slide level2 scrollable smaller">
<h2>More about <code>clean_names()</code></h2>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 22px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">case</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">original names</td>
<td style="text-align: left;">firstName , REPEAT VALUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">snake</td>
<td style="text-align: left;">first_name , repeat_value</td>
</tr>
<tr class="odd">
<td style="text-align: left;">lower_camel</td>
<td style="text-align: left;">firstName , repeatValue</td>
</tr>
<tr class="even">
<td style="text-align: left;">upper_camel</td>
<td style="text-align: left;">FirstName , RepeatValue</td>
</tr>
<tr class="odd">
<td style="text-align: left;">screaming_snake</td>
<td style="text-align: left;">FIRST_NAME , REPEAT_VALUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">lower_upper</td>
<td style="text-align: left;">firstNAME , repeatVALUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">upper_lower</td>
<td style="text-align: left;">FIRSTname , REPEATvalue</td>
</tr>
<tr class="even">
<td style="text-align: left;">all_caps</td>
<td style="text-align: left;">FIRST_NAME , REPEAT_VALUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">small_camel</td>
<td style="text-align: left;">firstName , repeatValue</td>
</tr>
<tr class="even">
<td style="text-align: left;">big_camel</td>
<td style="text-align: left;">FirstName , RepeatValue</td>
</tr>
<tr class="odd">
<td style="text-align: left;">old_janitor</td>
<td style="text-align: left;">firstname , repeat_value</td>
</tr>
<tr class="even">
<td style="text-align: left;">parsed</td>
<td style="text-align: left;">first_Name , REPEAT_VALUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mixed</td>
<td style="text-align: left;">first_Name , Repeat_Value</td>
</tr>
<tr class="even">
<td style="text-align: left;">none</td>
<td style="text-align: left;">firstName , REPEAT_VALUE</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="more-about-clean_names-1" class="slide level2 smaller">
<h2>More about <code>clean_names()</code></h2>
<p>The <code>make_clean_names</code> function can be used more generally (e.g., on a vector).</p>
<p>The <code>clean_names</code> function uses <code>snakecase::to_any_case</code> under the hood:</p>
<div class="fragment" data-fragment-index="1">
<ul>
<li>abbreviations = leave certain abbreviations untouched <sup>1</sup></li>
</ul>
</div>
<div class="fragment" data-fragment-index="2">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a>df1 <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "firstID"  "secondid" "thirdId" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a>df1 <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>(<span class="st">"upper_camel"</span>, <span class="at">abbreviations =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "FirstID"  "Secondid" "ThirdID" </code></pre>
</div>
</div>
</div>
<div class="fragment" data-fragment-index="3">
<ul>
<li>sep_out = specify a different delimiter besides “_”</li>
</ul>
</div>
<div class="fragment" data-fragment-index="4">
<ul>
<li>empty_fill = each entry that matches “” will be replaced by the supplied string <sup>2</sup></li>
</ul>
</div>

<aside><div>
<p>Notes:</p>
</div><ol class="aside-footnotes"><li id="fn1"><p>This argument only works with the cases title, mixed, lower and upper camel; the abbreviations already need to be delimited in the original column names.</p></li><li id="fn2"><p>The same string will repeat for multiple empty values, so you should specify as many strings as there are empty values. This argument seems to only works on vectors, not data frames.</p></li></ol></aside></section>
<section id="demo" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a>cs <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"data/Most-Recent-Cohorts-Institution.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a>cs <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "UNITID"       "OPEID"        "OPEID6"       "INSTNM"       "CITY"        
 [6] "STABBR"       "ZIP"          "ACCREDAGENCY" "INSTURL"      "NPCURL"      
[11] "SCH_DEG"      "HCM2"         "MAIN"         "NUMBRANCH"    "PREDDEG"     
[16] "HIGHDEG"      "CONTROL"      "ST_FIPS"      "REGION"       "LOCALE"      </code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a>cs <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "unitid"       "opeid"        "opeid6"       "instnm"       "city"        
 [6] "stabbr"       "zip"          "accredagency" "insturl"      "npcurl"      
[11] "sch_deg"      "hcm2"         "main"         "numbranch"    "preddeg"     
[16] "highdeg"      "control"      "st_fips"      "region"       "locale"      </code></pre>
</div>
</div>
</section>
<section id="column-type-issues" class="slide level2">
<h2>Column type issues</h2>
<p>Different column types can be problematic if you intend to append or join data files.</p>
<p><br></p>
<p>Functions like <code>dplyr::bind_rows()</code> or <code>rbind()</code> will fail, because of different columns or because the column classes don’t match across data.frames.</p>
</section>
<section id="the-solution-compare_df_cols" class="slide level2">
<h2>The solution: <code>compare_df_cols()</code></h2>
<div class="fragment" data-fragment-index="1">
<p>The <code>compare_df_cols()</code> returns a summary of how data frames compare.</p>
</div>
<p><br></p>
<div class="fragment" data-fragment-index="2">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, </span>
<span id="cb16-2"><a href=""></a>                  <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"big"</span>, <span class="st">"small"</span>))</span>
<span id="cb16-3"><a href=""></a></span>
<span id="cb16-4"><a href=""></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">12</span>, </span>
<span id="cb16-5"><a href=""></a>                  <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"medium"</span>, <span class="st">"small"</span>, <span class="st">"big"</span>), </span>
<span id="cb16-6"><a href=""></a>                  <span class="at">c =</span> <span class="dv">0</span>, <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-7"><a href=""></a></span>
<span id="cb16-8"><a href=""></a><span class="fu">compare_df_cols</span>(df1, df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  column_name       df1     df2
1           a   integer integer
2           b character  factor
3           c      &lt;NA&gt; numeric</code></pre>
</div>
</div>
</div>
</section>
<section id="demo-1" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a>my_cs <span class="ot">&lt;-</span> cs <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href=""></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href=""></a>  <span class="fu">select</span>(unitid, <span class="fu">starts_with</span>(<span class="st">"md_earn_wne"</span>) <span class="sc">&amp;</span> <span class="fu">ends_with</span>(<span class="st">"yr"</span>))</span>
<span id="cb18-4"><a href=""></a></span>
<span id="cb18-5"><a href=""></a>my_ipeds <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"data/Data_8-28-2024.csv"</span>, </span>
<span id="cb18-6"><a href=""></a>                            <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-7"><a href=""></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href=""></a>  <span class="fu">rename_with</span>(<span class="at">.fn =</span> <span class="sc">~</span>stringr<span class="sc">::</span><span class="fu">str_extract</span>(.,<span class="st">"bachelors|certificate"</span>),</span>
<span id="cb18-9"><a href=""></a>              <span class="at">.cols =</span> <span class="fu">contains</span>(<span class="st">"gr200_22"</span>))</span>
<span id="cb18-10"><a href=""></a></span>
<span id="cb18-11"><a href=""></a><span class="fu">compare_df_cols</span>(my_cs, my_ipeds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       column_name   my_cs  my_ipeds
1        bachelors    &lt;NA&gt;   numeric
2      certificate    &lt;NA&gt;   numeric
3 institution_name    &lt;NA&gt; character
4  md_earn_wne_1yr numeric      &lt;NA&gt;
5  md_earn_wne_4yr numeric      &lt;NA&gt;
6  md_earn_wne_5yr numeric      &lt;NA&gt;
7          unit_id    &lt;NA&gt;   numeric
8           unitid numeric      &lt;NA&gt;
9               x5    &lt;NA&gt;   logical</code></pre>
</div>
</div>
</section>
<section id="date-issues" class="slide level2 smaller">
<h2>Date issues</h2>
<div>
<ul>
<li class="fragment"><p>Dates can import as numbers, which can vary</p>
<ul>
<li class="fragment">Excel origin date: January 1, 1900</li>
<li class="fragment">SAS origin date: January 1, 1960</li>
</ul></li>
<li class="fragment"><p>A single date column can have a mix of formats</p>
<ul>
<li class="fragment">Months and days switched (MM-DD vs DD-MM)</li>
<li class="fragment">Months written out</li>
<li class="fragment">Years different lengths (YY vs YYYY)</li>
<li class="fragment">Different delimiters (MM/DD/YY vs MM-DD-YY)</li>
</ul></li>
<li class="fragment"><p>Date columns can contain a mix of strings and numbers</p></li>
</ul>
</div>
</section>
<section id="the-solution-...numeric_to_date" class="slide level2">
<h2>The solution: <code>...numeric_to_date</code></h2>
<div class="fragment" data-fragment-index="1" style="font-size:0.7em">
<p>Manual conversions between SAS and Excel:</p>
</div>
<div class="fragment" data-fragment-index="2" style="font-size:0.5em">
<ul>
<li><p>SAS_date = Excel_date - 21916</p></li>
<li><p>SAS_time = Excel_time * 86400</p></li>
<li><p>SAS_date_time = (Excel_date_time - 21916) * 86400</p></li>
</ul>
</div>
<div class="fragment" data-fragment-index="3">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="fu">excel_numeric_to_date</span>(<span class="dv">41103</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2012-07-13"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="fu">excel_numeric_to_date</span>(<span class="fl">41103.01</span>, <span class="at">include_time =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2012-07-13 00:14:24 EDT"</code></pre>
</div>
</div>
</div>
<div class="fragment" data-fragment-index="4">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">sas_numeric_to_date</span>(<span class="at">date_num =</span> <span class="dv">41103</span> <span class="sc">-</span> <span class="dv">21916</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2012-07-13"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="fu">sas_numeric_to_date</span>(<span class="at">datetime_num =</span> (<span class="fl">41103.01</span> <span class="sc">-</span> <span class="dv">21916</span>) <span class="sc">*</span> <span class="dv">86400</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2012-07-12 20:14:24 EDT"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a><span class="fu">sas_numeric_to_date</span>(<span class="at">datetime_num =</span> ((<span class="fl">41103.01</span> <span class="sc">-</span> <span class="dv">21916</span>) <span class="sc">*</span> <span class="dv">86400</span>) <span class="sc">-</span> <span class="dv">20</span><span class="sc">*</span><span class="dv">60</span><span class="sc">*</span><span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2012-07-12 00:14:24 EDT"</code></pre>
</div>
</div>
</div>
</section>
<section id="the-solution-convert_to_date" class="slide level2">
<h2>The solution: <code>convert_to_date</code></h2>
<div class="fragment" data-fragment-index="1">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a>dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2020-02-29"</span>, <span class="st">"40000.1"</span>, <span class="st">"40000"</span>)</span>
<span id="cb30-2"><a href=""></a></span>
<span id="cb30-3"><a href=""></a><span class="fu">convert_to_date</span>(dates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-02-29" "2009-07-06" "2009-07-06"</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment" data-fragment-index="2">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a><span class="fu">convert_to_datetime</span>(dates, </span>
<span id="cb32-2"><a href=""></a>                    <span class="at">tz =</span> <span class="st">"UTC"</span>,</span>
<span id="cb32-3"><a href=""></a>                    <span class="at">character_fun=</span>lubridate<span class="sc">::</span>ymd_h, </span>
<span id="cb32-4"><a href=""></a>                    <span class="at">truncated=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-02-29 00:00:00 UTC" "2009-07-06 02:24:00 UTC"
[3] "2009-07-06 00:00:00 UTC"</code></pre>
</div>
</div>
</div>
</section>
<section id="demo-2" class="slide level2">
<h2>Demo</h2>
<p>No date columns in my CS or IPEDS data.</p>
</section>
<section id="empty-fields" class="slide level2">
<h2>Empty fields</h2>
<div class="fragment" data-fragment-index="1">
<p>Your data might have columns or rows that are totally empty, or columns that contain a single value for all cases.</p>
</div>
<p><br></p>
<div class="fragment" data-fragment-index="2">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A=</span><span class="dv">1</span>, </span>
<span id="cb34-2"><a href=""></a>                  <span class="at">B=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">3</span>),</span>
<span id="cb34-3"><a href=""></a>                  <span class="at">C=</span><span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>),</span>
<span id="cb34-4"><a href=""></a>                  <span class="at">D=</span><span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="the-solution-remove_..." class="slide level2">
<h2>The solution: <code>remove_...</code></h2>
<div class="fragment" data-fragment-index="1">
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a><span class="fu">remove_constant</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   B  D
1  1 NA
2 NA NA
3  3  3</code></pre>
</div>
</div>
</div>
<div class="fragment" data-fragment-index="2">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a><span class="fu">remove_empty</span>(df1, <span class="at">which =</span> <span class="st">"cols"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  A  B  D
1 1  1 NA
2 1 NA NA
3 1  3  3</code></pre>
</div>
</div>
</div>
<div class="fragment" data-fragment-index="3">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href=""></a><span class="fu">remove_empty</span>(df1, <span class="at">which =</span> <span class="st">"rows"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  A  B  C  D
1 1  1 NA NA
2 1 NA NA NA
3 1  3 NA  3</code></pre>
</div>
</div>
</div>
<div class="fragment" data-fragment-index="4">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href=""></a><span class="fu">remove_constant</span>(df1) <span class="sc">%&gt;%</span> <span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="st">"rows"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  B  D
1 1 NA
3 3  3</code></pre>
</div>
</div>
</div>
</section>
<section id="demo-3" class="slide level2">
<h2>Demo</h2>
<div class="fragment" data-fragment-index="1">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href=""></a>my_ipeds <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  unit_id institution_name                        bachelors certificate x5   
    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;       &lt;dbl&gt; &lt;lgl&gt;
1  493868 A Better U Beauty Barber Academy               NA          NA NA   
2  177834 A T Still University of Health Sciences        NA          NA NA   
3  180203 Aaniiih Nakoda College                         NA          NA NA   
4  491464 ABC Adult School                               NA          50 NA   
5  459523 ABC Beauty Academy                             NA          89 NA   
6  485500 ABCO Technology                                NA         100 NA   </code></pre>
</div>
</div>
</div>
<div class="fragment" data-fragment-index="2">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href=""></a><span class="fu">remove_empty</span>(my_ipeds, <span class="at">which =</span> <span class="st">"cols"</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  unit_id institution_name                        bachelors certificate
    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;       &lt;dbl&gt;
1  493868 A Better U Beauty Barber Academy               NA          NA
2  177834 A T Still University of Health Sciences        NA          NA
3  180203 Aaniiih Nakoda College                         NA          NA
4  491464 ABC Adult School                               NA          50
5  459523 ABC Beauty Academy                             NA          89
6  485500 ABCO Technology                                NA         100</code></pre>
</div>
</div>
</div>
</section>
<section id="missing-values" class="slide level2">
<h2>Missing Values</h2>
<div class="fragment" data-fragment-index="1">
<p>Missing values can be imported correctly as <code>NA</code> or it can be imported as:</p>
</div>
<div class="fragment" data-fragment-index="2">
<ul>
<li>“NA”</li>
<li>“N/A”</li>
<li>“n\a”</li>
<li>“.”</li>
<li>-999</li>
<li>etc.</li>
</ul>
</div>
</section>
<section id="the-solution-dplyrna_if" class="slide level2">
<h2>The solution: dplyr::na_if()</h2>
<div class="fragment" data-fragment-index="1">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href=""></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">eye_color =</span> <span class="fu">na_if</span>(eye_color, <span class="st">"unknown"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br></p>
<div class="fragment" data-fragment-index="2">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  eye_color     n
  &lt;chr&gt;     &lt;int&gt;
1 black        10
2 blue         19
3 brown        21
4 unknown       3</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  eye_color     n
  &lt;chr&gt;     &lt;int&gt;
1 black        10
2 blue         19
3 brown        21
4 &lt;NA&gt;          3</code></pre>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
<div class="fragment" data-fragment-index="3">
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb50-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), <span class="sc">~</span><span class="fu">na_if</span>(., <span class="st">"unknown"</span>)))</span>
<span id="cb50-3"><a href=""></a></span>
<span id="cb50-4"><a href=""></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb50-5"><a href=""></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">contains</span>(<span class="st">"color"</span>), <span class="sc">~</span><span class="fu">na_if</span>(., <span class="st">"unknown"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="demo-4" class="slide level2">
<h2>Demo</h2>
<p>No funky <code>NA</code> values in my CS or IPEDS data.</p>
</section>
<section id="duplicates" class="slide level2">
<h2>Duplicates</h2>
<p>Types of duplicates:</p>
<div>
<ul>
<li class="fragment">complete = two or more rows are completely identical</li>
<li class="fragment">partial = two or more rows are mostly identical, but have different values in some columns</li>
<li class="fragment">blank = two or more rows are mostly identical, but one row has missing values in some columns</li>
</ul>
</div>
</section>
<section id="the-solution-get_dupes" class="slide level2">
<h2>The solution: <code>get_dupes()</code></h2>
<div class="fragment" data-fragment-index="1">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href=""></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">get_dupes</span>(<span class="sc">-</span><span class="fu">c</span>(wt, qsec))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mpg cyl disp  hp drat vs am gear carb dupe_count    wt  qsec
1  21   6  160 110  3.9  0  1    4    4          2 2.620 16.46
2  21   6  160 110  3.9  0  1    4    4          2 2.875 17.02</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment" data-fragment-index="2">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href=""></a>mtcars <span class="sc">%&gt;%</span> </span>
<span id="cb53-2"><a href=""></a>  <span class="fu">group_by</span>(mpg,cyl,disp,hp,drat,vs,am,gear,carb) <span class="sc">%&gt;%</span> </span>
<span id="cb53-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">dupe_count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb53-4"><a href=""></a>  <span class="fu">filter</span>(dupe_count <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 12
# Groups:   mpg, cyl, disp, hp, drat, vs, am, gear, carb [1]
    mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb dupe_count
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;int&gt;
1    21     6   160   110   3.9  2.62  16.5     0     1     4     4          2
2    21     6   160   110   3.9  2.88  17.0     0     1     4     4          2</code></pre>
</div>
</div>
</div>
</section>
<section id="demo-5" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href=""></a><span class="fu">get_dupes</span>(my_ipeds, unit_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 5
# ℹ 5 variables: unit_id &lt;dbl&gt;, dupe_count &lt;int&gt;, institution_name &lt;chr&gt;,
#   bachelors &lt;dbl&gt;, certificate &lt;dbl&gt;</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href=""></a><span class="fu">get_dupes</span>(my_ipeds, institution_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 191 × 5
   institution_name                dupe_count unit_id bachelors certificate
   &lt;chr&gt;                                &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
 1 Cortiva Institute                        6  128896        NA          67
 2 Cortiva Institute                        6  134574        NA          69
 3 Cortiva Institute                        6  215044        NA          76
 4 Cortiva Institute                        6  387925        NA          68
 5 Cortiva Institute                        6  434308        NA          81
 6 Cortiva Institute                        6  438285        NA          69
 7 Academy of Beauty Professionals          4  421771        NA          56
 8 Academy of Beauty Professionals          4  489122        NA          54
 9 Academy of Beauty Professionals          4  489131        NA          68
10 Academy of Beauty Professionals          4  489140        NA          54
# ℹ 181 more rows</code></pre>
</div>
</div>
</section>
<section id="frequency-tables" class="slide level2">
<h2>Frequency Tables</h2>
<div class="fragment" data-fragment-index="1">
<p>The <code>tabyl()</code> function is a tidyverse-oriented replacement for <code>table()</code>.</p>
</div>
<div class="fragment" data-fragment-index="2">
<p>It counts combinations of one, two, or three variables.</p>
</div>
<div class="fragment" data-fragment-index="3">
<div class="columns">
<div class="column" style="width:50%;">
<p>base R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href=""></a><span class="fu">table</span>(mtcars<span class="sc">$</span>gear, mtcars<span class="sc">$</span>cyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
     4  6  8
  3  1  2 12
  4  8  4  0
  5  2  1  2</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>janitor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href=""></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">tabyl</span>(gear, cyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> gear 4 6  8
    3 1 2 12
    4 8 4  0
    5 2 1  2</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="fragment fade-left" data-fragment-index="4">
<p>See package this <a href="https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html">vignette</a> for more information on the <code>tabyl</code> function.</p>
</div>
</section>
<section id="demo-6" class="slide level2 scrollable">
<h2>Demo</h2>
<p>No categorical variables in CS or IPEDS data.</p>
<div class="fragment" data-fragment-index="1">
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href=""></a>starwars <span class="sc">%&gt;%</span> <span class="fu">tabyl</span>(eye_color) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(percent))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     eye_color  n    percent
         brown 21 0.24137931
          blue 19 0.21839080
        yellow 11 0.12643678
         black 10 0.11494253
        orange  8 0.09195402
           red  5 0.05747126
         hazel  3 0.03448276
       unknown  3 0.03448276
     blue-gray  1 0.01149425
          dark  1 0.01149425
          gold  1 0.01149425
 green, yellow  1 0.01149425
          pink  1 0.01149425
     red, blue  1 0.01149425
         white  1 0.01149425</code></pre>
</div>
</div>
</div>
</section>
<section id="formatting-tables" class="slide level2">
<h2>Formatting Tables</h2>
<p>Make your tables more informative with the <code>adorn_</code> functions.</p>
<div>
<ul>
<li class="fragment">You can automatically calculate totals or percentages, both row-wise and column-wise.</li>
<li class="fragment">You can format your percentages with rounding, displaying a specific number of digits, including the percent sign (%)</li>
<li class="fragment">You can add the underlying counts back into the table after calculating percentages.</li>
<li class="fragment">You can include the names for both variables you are tabulating.</li>
</ul>
</div>
</section>
<section id="demo-7" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href=""></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb65-2"><a href=""></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> skin_color <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-3"><a href=""></a>  <span class="fu">tabyl</span>(eye_color, skin_color)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> eye_color dark fair light pale tan white
      blue    0    9     3    0   0     0
 blue-gray    0    1     0    0   0     0
     brown    3    5     6    0   2     0
      dark    1    0     0    0   0     0
     hazel    0    1     1    0   0     0
    yellow    0    0     0    1   0     1</code></pre>
</div>
</div>
</section>
<section id="demo-8" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href=""></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href=""></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> skin_color <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb67-3"><a href=""></a>  <span class="fu">tabyl</span>(eye_color, skin_color) <span class="sc">%&gt;%</span></span>
<span id="cb67-4"><a href=""></a>  </span>
<span id="cb67-5"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="st">"both"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> eye_color dark fair light pale tan white Total
      blue    0    9     3    0   0     0    12
 blue-gray    0    1     0    0   0     0     1
     brown    3    5     6    0   2     0    16
      dark    1    0     0    0   0     0     1
     hazel    0    1     1    0   0     0     2
    yellow    0    0     0    1   0     1     2
     Total    4   16    10    1   2     1    34</code></pre>
</div>
</div>
</section>
<section id="demo-9" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href=""></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb69-2"><a href=""></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> skin_color <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb69-3"><a href=""></a>  <span class="fu">tabyl</span>(eye_color, skin_color) <span class="sc">%&gt;%</span></span>
<span id="cb69-4"><a href=""></a>  </span>
<span id="cb69-5"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="st">"both"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb69-6"><a href=""></a>  <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> eye_color      dark      fair     light       pale        tan      white Total
      blue 0.0000000 0.7500000 0.2500000 0.00000000 0.00000000 0.00000000     1
 blue-gray 0.0000000 1.0000000 0.0000000 0.00000000 0.00000000 0.00000000     1
     brown 0.1875000 0.3125000 0.3750000 0.00000000 0.12500000 0.00000000     1
      dark 1.0000000 0.0000000 0.0000000 0.00000000 0.00000000 0.00000000     1
     hazel 0.0000000 0.5000000 0.5000000 0.00000000 0.00000000 0.00000000     1
    yellow 0.0000000 0.0000000 0.0000000 0.50000000 0.00000000 0.50000000     1
     Total 0.1176471 0.4705882 0.2941176 0.02941176 0.05882353 0.02941176     1</code></pre>
</div>
</div>
</section>
<section id="demo-10" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href=""></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href=""></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> skin_color <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href=""></a>  <span class="fu">tabyl</span>(eye_color, skin_color) <span class="sc">%&gt;%</span></span>
<span id="cb71-4"><a href=""></a>  </span>
<span id="cb71-5"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="st">"both"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-6"><a href=""></a>  <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-7"><a href=""></a>  <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">0</span>, <span class="at">affix_sign =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> eye_color dark fair light pale tan white Total
      blue   0%  75%   25%   0%  0%    0%  100%
 blue-gray   0% 100%    0%   0%  0%    0%  100%
     brown  19%  31%   38%   0% 12%    0%  100%
      dark 100%   0%    0%   0%  0%    0%  100%
     hazel   0%  50%   50%   0%  0%    0%  100%
    yellow   0%   0%    0%  50%  0%   50%  100%
     Total  12%  47%   29%   3%  6%    3%  100%</code></pre>
</div>
</div>
</section>
<section id="demo-11" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href=""></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb73-2"><a href=""></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> skin_color <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb73-3"><a href=""></a>  <span class="fu">tabyl</span>(eye_color, skin_color) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href=""></a>  </span>
<span id="cb73-5"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="st">"both"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb73-6"><a href=""></a>  <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb73-7"><a href=""></a>  <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">0</span>, <span class="at">affix_sign =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb73-8"><a href=""></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> eye_color     dark      fair    light    pale     tan   white     Total
      blue   0% (0)  75%  (9) 25%  (3)  0% (0)  0% (0)  0% (0) 100% (12)
 blue-gray   0% (0) 100%  (1)  0%  (0)  0% (0)  0% (0)  0% (0) 100%  (1)
     brown  19% (3)  31%  (5) 38%  (6)  0% (0) 12% (2)  0% (0) 100% (16)
      dark 100% (1)   0%  (0)  0%  (0)  0% (0)  0% (0)  0% (0) 100%  (1)
     hazel   0% (0)  50%  (1) 50%  (1)  0% (0)  0% (0)  0% (0) 100%  (2)
    yellow   0% (0)   0%  (0)  0%  (0) 50% (1)  0% (0) 50% (1) 100%  (2)
     Total  12% (4)  47% (16) 29% (10)  3% (1)  6% (2)  3% (1) 100% (34)</code></pre>
</div>
</div>
</section>
<section id="demo-12" class="slide level2">
<h2>Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href=""></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href=""></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> skin_color <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb75-3"><a href=""></a>  <span class="fu">tabyl</span>(eye_color, skin_color) <span class="sc">%&gt;%</span></span>
<span id="cb75-4"><a href=""></a>  </span>
<span id="cb75-5"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="st">"both"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb75-6"><a href=""></a>  <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb75-7"><a href=""></a>  <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">0</span>, <span class="at">affix_sign =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb75-8"><a href=""></a>  <span class="fu">adorn_ns</span>() <span class="sc">%&gt;%</span></span>
<span id="cb75-9"><a href=""></a>  <span class="fu">adorn_title</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           skin_color                                                     
 eye_color       dark      fair    light    pale     tan   white     Total
      blue     0% (0)  75%  (9) 25%  (3)  0% (0)  0% (0)  0% (0) 100% (12)
 blue-gray     0% (0) 100%  (1)  0%  (0)  0% (0)  0% (0)  0% (0) 100%  (1)
     brown    19% (3)  31%  (5) 38%  (6)  0% (0) 12% (2)  0% (0) 100% (16)
      dark   100% (1)   0%  (0)  0%  (0)  0% (0)  0% (0)  0% (0) 100%  (1)
     hazel     0% (0)  50%  (1) 50%  (1)  0% (0)  0% (0)  0% (0) 100%  (2)
    yellow     0% (0)   0%  (0)  0%  (0) 50% (1)  0% (0) 50% (1) 100%  (2)
     Total    12% (4)  47% (16) 29% (10)  3% (1)  6% (2)  3% (1) 100% (34)</code></pre>
</div>
</div>
</section>
<section id="last-demo" class="slide level2">
<h2>Last Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href=""></a>my_df <span class="ot">&lt;-</span> my_cs <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href=""></a>  <span class="fu">rename</span>(<span class="at">unit_id =</span> unitid) <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href=""></a>  <span class="fu">full_join</span>(my_ipeds, <span class="at">by =</span> <span class="st">"unit_id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb77-4"><a href=""></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(bachelors, certificate),</span>
<span id="cb77-5"><a href=""></a>                      <span class="at">names_to =</span> <span class="st">"Degree Type"</span>, </span>
<span id="cb77-6"><a href=""></a>                      <span class="at">values_to =</span> <span class="st">"Graduation Rate"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="last-demo-1" class="slide level2">
<h2>Last Demo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href=""></a>my_df <span class="sc">%&gt;%</span> </span>
<span id="cb78-2"><a href=""></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Degree Type</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href=""></a>  <span class="fu">summarise</span>(<span class="at">Count =</span> <span class="fu">n</span>(),</span>
<span id="cb78-4"><a href=""></a>            <span class="st">`</span><span class="at">Avg Grad Rate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Graduation Rate</span><span class="st">`</span>, <span class="at">na.rm =</span> T)<span class="sc">/</span><span class="dv">100</span>,</span>
<span id="cb78-5"><a href=""></a>            <span class="st">`</span><span class="at">Avg Median Earnings</span><span class="st">`</span><span class="ot">=</span> <span class="fu">mean</span>(md_earn_wne_5yr, <span class="at">na.rm =</span> T)) <span class="sc">%&gt;%</span> </span>
<span id="cb78-6"><a href=""></a>  </span>
<span id="cb78-7"><a href=""></a>  <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">0</span>, </span>
<span id="cb78-8"><a href=""></a>                       <span class="at">rounding =</span> <span class="st">"half to even"</span>, </span>
<span id="cb78-9"><a href=""></a>                       <span class="at">affix_sign =</span> <span class="cn">TRUE</span>, </span>
<span id="cb78-10"><a href=""></a>                       <span class="fu">contains</span>(<span class="st">"Grad Rate"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  `Degree Type` Count `Avg Grad Rate` `Avg Median Earnings`
  &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;                           &lt;dbl&gt;
1 bachelors      6632 53%                            46020.
2 certificate    6632 61%                            46020.</code></pre>
</div>
</div>
</section>
<section id="last-demo-2" class="slide level2">
<h2>Last Demo</h2>

<img data-src="janitor_files/figure-revealjs/unnamed-chunk-45-1.png" width="960" class="r-stretch"></section>
<section id="the-end" class="slide level2">
<h2>The End</h2>
<p>Thank you! Any questions?</p>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="janitor_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="janitor_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="janitor_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="janitor_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="janitor_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="janitor_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="janitor_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="janitor_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="janitor_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="janitor_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>